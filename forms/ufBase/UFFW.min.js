var uFFw={globalFunctions:{init:function(modForm){if(typeof parent.WCMAPI!='undefined'){if(parent.WCMAPI.colorMenu!=''){$('.uf-colormenu').css('color',parent.WCMAPI.colorMenu)}else{$('.uf-colormenu').css('color',parent.$('.profile-pencil').css('color'))}}
window.$validator=$('form').validate();$('form').on('change',function(){$validator.form()});if(modForm=='ADD'){$('input[name="SOLICDATA"]').val(moment().format('DD/MM/YYYY'));$('input[name="SOLICCOD"]').val(parent.WCMAPI.userCode);$('input[name="SOLICNOME"]').val(parent.WCMAPI.user);$('input[name="SOLICEMAIL"]').val(parent.WCMAPI.userEmail)}}},defaults:{dateOptions:{useCurrent:!1},validOptions:{depends:function(el){return $(el).is(":visible")},},moneyOptions:{prefix:'',thousands:'',decimal:','},zoomReturn:function(cmp,info,fields=null,sufix){var sufix=sufix==null?'':sufix;var nameField=field.formField+sufix
for(var key in info){$('[name="'+nameField+ +'"]').val(info[key])}},zoomFields:function(cmp,info,fields,sufix){for(var key in info){var field=fields.find(function(elemento){return elemento.data==key});if(typeof field!='undefined'){var sufix=sufix==null?'':sufix;var nameField=field.formField+sufix
$('[name="'+nameField+'"]').val(info[key])}}
$('form').trigger('change')}},init:function(modForm,numState,fieldsConfig,sectionsConfig,tablesConfig){this.globalFunctions.init(modForm);this.status.init();this.fields.init(modForm,numState,fieldsConfig);this.sections.init(numState,sectionsConfig);this.tables.init(numState,tablesConfig)},tables:{init:function(numState,tablesConfig){tablesConfig.forEach(function(tableConfig){$('[uf-addChild="'+tableConfig.id+'"]').on('click',function(){var linhaIdx=wdkAddChild(tableConfig.id);tableConfig.fields.forEach(function(fieldConfig){var prefix=fieldConfig.name.split('___')[0];var sufix='___'+linhaIdx;fieldConfig.name=prefix+sufix;$('[name="'+fieldConfig.name+'"]').parents('tr').find('[uf-removeChild="'+tableConfig.id+'"]').off().on('click',function(){var element=this;parent.FLUIGC.message.confirm({message:'Você realmente deseja remover o item da tabela?',title:'Remover linha da tabela',labelYes:'Remover',labelNo:'Cancelar'},function(result,el,ev){if(result){fnWdkRemoveChild(element)}})})
uFFw.fields.start(fieldConfig,sufix)})})
if(typeof tableConfig.fields!='undefined'){if(tableConfig.fields.length>0){tableConfig.fields.forEach(function(fieldConfig){uFFw.tables.start(tableConfig.id,fieldConfig)})}}})},start:function(tableName,fieldConfig){$('table[tablename="'+tableName+'"] tbody > tr:not(:first-child)').each(function(index,linha){linha.find('[uf-removeChild="'+tableName+'"]').off().on('click',function(){var el=this;parent.FLUIGC.message.confirm({message:'Você realmente deseja remover o item da tabela?',title:'Remover linha da tabela',labelYes:'Remover',labelNo:'Cancelar'},function(result,el,ev){if(result){fnWdkRemoveChild(el)}})})
var prefix=fieldConfig.name.split('___')[0];var sufix='___'+linha.find('[name^="'+fieldConfig.name+'"]').prop('name').prop('name').split('___')[1];fieldConfig.name=prefix+sufix;uFFw.fields.start(fieldConfig,sufix)})}},status:{$elBase:$('section#secCabecalho .status-solicitacao'),init:function(){var options={class:'status',style:'color:'+ufStatus.cfn+';background-color:'+ufStatus.cbk+';','data-toggle':'popover','data-title':ufStatus.ico+' '+ufStatus.tit,'data-content':ufStatus.des,};this.start(options)},start:function(options){this.$elBase.append($('<div>',options).html(ufStatus.ico+' '+ufStatus.tit));FLUIGC.popover('[data-toggle="popover"]',{trigger:'hover',placement:'auto',viewport:'html',html:!0})}},fields:{customActions:{init:function(fieldConfig){if(typeof fieldConfig.customActions!='undefined'){this.start($('[name="'+fieldConfig.name+'"]'),fieldConfig.customActions)}},start:function($self,customActions){customActions($self)}},init:function(modForm,numState,fieldsConfig){fieldsConfig.forEach(function(fieldConfig){if(typeof fieldConfig.state.type=='undefined'||fieldConfig.state.type=='default'||fieldConfig.state.type==null){if(modForm=='ADD'||modForm=='MOD'){if(typeof fieldConfig.state.num!='undefined'){if(uFFw.utils.verificaConteudo(numState,fieldConfig.state.num)){uFFw.fields.start(fieldConfig)}}}}else{if(uFFw.utils.verificaConteudo(modForm,fieldConfig.state.type)){if(typeof fieldConfig.state.num!='undefined'){if(uFFw.utils.verificaConteudo(numState,fieldConfig.state.num)){uFFw.fields.start(fieldConfig)}}}}})},start:function(fieldConfig,sufix=null){uFFw.utils.validate.init(fieldConfig);if(fieldConfig.fieldType=='aprovacao'){uFFw.fields.aprovacao.init(fieldConfig)}else if(fieldConfig.fieldType=='date'){uFFw.fields.date.init(fieldConfig)}else if(fieldConfig.fieldType=='money'){uFFw.fields.money.init(fieldConfig)}else if(fieldConfig.fieldType=='zoom'){uFFw.fields.zoom.init(fieldConfig,sufix)}
uFFw.utils.addClass.init(fieldConfig);uFFw.fields.customActions.init(fieldConfig)},zoom:{init:function(fieldConfig,sufix){if(typeof fieldConfig.zoomReturn=='undefined'){this.start($('button[uf-zoom="'+fieldConfig.name.split('___')[0]+'"]'),fieldConfig.zoomOptions,uFFw.defaults.zoomReturn,sufix)}else{if(typeof fieldConfig.zoomReturn.type=='undefined'||fieldConfig.zoomReturn.type=='default'){this.start($('button[uf-zoom="'+fieldConfig.name.split('___')[0]+'"]'),fieldConfig.zoomOptions,uFFw.defaults.zoomReturn,sufix)}else{if(fieldConfig.zoomReturn.type=='1'){this.start($('button[uf-zoom="'+fieldConfig.name.split('___')[0]+'"]'),fieldConfig.zoomOptions,uFFw.defaults.zoomFields,fieldConfig.zoomReturn.fields,sufix)}else{this.start($('button[uf-zoom="'+fieldConfig.name.split('___')[0]+'"]'),fieldConfig.zoomOptions,fieldConfig.fields)}}}},start:function($el,zoomOptions,zoomCallback,listFields,sufix){$el.uFZoom({loading:'Aguarde, consultando cadastro de '+zoomOptions.label+'...',label:zoomOptions.label,title:'Cadastro de '+zoomOptions.label,uFZommType:zoomOptions.uFZommType,CodQuery:zoomOptions.CodQuery,constraints:zoomOptions.constraints,columns:zoomOptions.columns,},zoomCallback,listFields,sufix)},},money:{init:function(fieldConfig){if(typeof fieldConfig.fieldOptions=='undefined'){this.start($('[name="'+fieldConfig.name+'"]'),uFFw.defaults.moneyOptions)}else{this.start($('[name="'+fieldConfig.name+'"]'),fieldConfig.fieldOptions)}},start:function($el,options){$el.maskMoney(options).maskMoney('mask',this.value)}},date:{init:function(fieldConfig){if(typeof fieldConfig.fieldOptions=='undefined'){this.start($('[name="'+fieldConfig.name+'"]'),uFFw.defaults.dateOptions)}else{this.start($('[name="'+fieldConfig.name+'"]'),fieldConfig.fieldOptions)}},start:function($el,options){FLUIGC.calendar($el,options)}},aprovacao:{init:function(fieldConfig){var $elBase=$('section#secAprovacao'+fieldConfig.name),$cmpAprov=$('section#secAprovacao'+fieldConfig.name+' input[name="APROVADO'+fieldConfig.name+'"]'),$cmpAprovNom=$('section#secAprovacao'+fieldConfig.name+' input[name="APROVADORNOME'+fieldConfig.name+'"]'),$cmpAprovDta=$('section#secAprovacao'+fieldConfig.name+' input[name="APROVADODATA'+fieldConfig.name+'"]'),$cmpAprovCod=$('section#secAprovacao'+fieldConfig.name+' input[name="APROVADORID'+fieldConfig.name+'"]'),$cmpAprovMail=$('section#secAprovacao'+fieldConfig.name+' input[name="APROVADOREMAIL'+fieldConfig.name+'"]'),$cmpObs=$('section#secAprovacao'+fieldConfig.name+' textarea[name="APROVADOOBS'+fieldConfig.name+'"]'),$elAprovMsg=$('section#secAprovacao'+fieldConfig.name+' .msg-aprov div.alert');var exbMsgAprov=function(strSel,ckd){if(ckd){var nm=$cmpAprovNom.val();var dt=$cmpAprovDta.val();if(nm==undefined)nm=$('[name="APROVNOME'+fieldConfig.name+'"]').html();if(dt==undefined)dt=$('[name="APROVDATA'+fieldConfig.name+'"]').html();$elAprovMsg.removeClass('alert-success alert-danger');switch(String(strSel)){case 'S':var msg='<strong><i class="fa fa-check-circle" aria-hidden="true"></i> APROVADO!</strong> Aprovação realizada por '+nm+' em '+dt;$elAprovMsg.removeClass('alert-danger').removeClass('alert-warning').addClass('alert-success').html(msg).show();break;case 'N':var msg='<strong><i class="fa fa-times-circle" aria-hidden="true"></i> REPROVADO!</strong> Reprovação realizada por '+nm+' em '+dt;$elAprovMsg.removeClass('alert-success').removeClass('alert-warning').addClass('alert-danger').html(msg).show();break;case 'A':var msg='<strong><i class="fa fa-times-circle" aria-hidden="true"></i> PEDIDO PARA AJUSTE!</strong> Reprovação para que seja ajustado realizada por '+nm+' em '+dt;$elAprovMsg.removeClass('alert-danger').removeClass('alert-success').addClass('alert-warning').html(msg).show();break;case 'C':var msg='<strong><i class="fa fa-times-circle" aria-hidden="true"></i> PEDIDO PARA AJUSTE!</strong> Reprovação para que seja ajustado realizada por '+nm+' em '+dt;$elAprovMsg.removeClass('alert-danger').removeClass('alert-success').addClass('alert-warning').html(msg).show();break;default:console.error('Seleção na aprovação não reconhecida: ')}}else{$elAprovMsg.hide()}};$cmpAprov.on('change',function(){$cmpAprovDta.val(moment().format('DD/MM/YYYY HH:mm:ss'));$cmpAprovNom.val(parent.WCMAPI.user);$cmpAprovCod.val(parent.WCMAPI.userCode);$cmpAprovMail.val(parent.WCMAPI.userEmail);exbMsgAprov(this.value,this.checked)});this.valid(fieldConfig,$cmpAprov,$cmpObs)},valid:function(fieldConfig,$cmpAprov,$cmpObs){$cmpAprov.rules('add',{required:!0});$cmpObs.rules('add',{required:{depends:function(el){return $('input[name="APROVADO'+fieldConfig.name+'"]:checked').val()!='S'},},})}}},sections:{init:function(numState,sectionsConfig){sectionsConfig.forEach(function(sectionConfig){if(sectionConfig.visible){$('section#'+sectionConfig.id).show()}else{if(uFFw.utils.verificaConteudo(numState,sectionConfig.visibleAtv)){$('section#'+sectionConfig.id).show()}};if(!sectionConfig.enabled){$('section#'+sectionConfig.id).setDisabled()}else{if(!uFFw.utils.verificaConteudo(numState,sectionConfig.enabledAtv)){$('section#'+sectionConfig.id).setDisabled()}}})},},utils:{addClass:{init:function(fieldConfig){if(typeof fieldConfig.class!='undefined'){if(fieldConfig.class.length!=0){this.start($('[name="'+fieldConfig.name+'"]'),fieldConfig.class)}}},start:function($el,listClass){listClass.forEach(function(classe){$el.addClass(classe)})}},listaErros:function(){var lstHtml='</br>';$.each($validator.errorList,function(id,campo){var label=$('label.control-label[for="'+campo.element.name+'"]').text();lstHtml+='<strong>'+((label!=undefined)?label:campo.element.name)+'</strong>: '+campo.message+'</br>'})
return lstHtml},validate:{init:function(fieldConfig){if(fieldConfig.required){if(typeof fieldConfig.requiredConfig=='undefined'){uFFw.utils.validate.start($('[name="'+fieldConfig.name+'"]'),uFFw.defaults.validOptions)}else{uFFw.utils.validate.start($('[name="'+fieldConfig.name+'"]'),fieldConfig.requiredConfig)}}},start:function($el,config){$el.rules('add',{required:config})}},verificaConteudo:function(conteudo,lista){return lista.some(function(conteudoLoop){return conteudo==conteudoLoop})}},};$.fn.setDisabled=function(){var $el=$(this);$el.find('tbody tr:not(:first-child) td.acoes-linha a.remove-linha').hide();$el.find('div.form-group button[uf-zoom]').hide();$el.find('div.form-group button[type="button"]').attr('disabled',!0);$el.find('div.form-group div.input-group .input-group-addon').hide();$el.find('div.form-group div.input-group .input-group-btn').hide();$el.find('div.form-group div.input-group').attr('class','');$el.find('div.form-group p.help-block').hide();$el.find('[retirar-view]').hide();$el.find('span.form-control').css('height','auto');$el.find('input[type="radio"]:checked').each(function(){var conteudo=$(this).data('exibicao');var nm=$(this).attr('name');var $pai=$(this).parents('div.btn-group');$pai.hide();$('<span>',{html:conteudo,'data-idoriginal':nm}).addClass('form-control').insertAfter($pai)});$el.find('input[type="radio"]:not(:checked)').each(function(){$(this).parents('label').hide()});$el.find('div.checkbox').css('pointer-events','none');$el.find('.form-group:not(.uf-disabled) .form-control:not([type="hidden"])').each(function(){var el=$(this);var valor,id='';switch(this.localName){case 'input':case 'textarea':desabilitar(el,this.value,el.attr('name'));break;case 'select':desabilitar(el,el.find('option:selected').text(),el.attr('name'));break}});function desabilitar(elemento,valor,id){var cls=elemento.attr('class');var cod=elemento.parents('.ufZoom').find('input.codinput').val();if(cod)valor=cod+' - '+valor;$('<span>',{html:valor,'data-idoriginal':id}).addClass(cls).insertAfter(elemento);elemento.parents('.form-group').addClass('uf-disabled');elemento.hide()}}
$.fn.uFZoom=function(zoomInfo,callback,listFields,sufix){var $elZoom=$(this);if(!$elZoom.attr('data-loading-text'))$elZoom.attr('data-loading-text','<i class="fas fa-spinner fa-pulse"></i>');$elZoom.off('click').on('click',function(){var $this=$(this);var msgLoading=FLUIGC.loading(window,{textMessage:zoomInfo.loading,overlayCSS:{backgroundColor:'#000',opacity:0.6,cursor:'wait'},baseZ:1000,fadeIn:200,fadeOut:400,timeout:0,});msgLoading.show();$this.button('loading');var DataSetName;var parametros;var filtros=null;if(typeof lstZoom=='undefined')lstZoom={};if(zoomInfo.lstLocal!=undefined){if(lstZoom[zoomInfo.lstLocal]!=undefined){exbTabela(lstZoom[zoomInfo.lstLocal]);return}}
try{switch(String(zoomInfo.uFZommType)){case '1':DataSetName='ds_RMDataServer';var CODCOLIGADA=((zoomInfo.CODCOLIGADA)?zoomInfo.CODCOLIGADA:'1');parametros=new Array(zoomInfo.CodQuery,"","CODCOLIGADA="+CODCOLIGADA);break;case '2':DataSetName='ds_RMConsulta';parametros=new Array(zoomInfo.CodQuery,"0","T");break;case '3':DataSetName=zoomInfo.CodQuery;parametros=null;break;case '4':DataSetName='ds_FLUIGConsulta';parametros=new Array(zoomInfo.CodQuery);break;case '5':DataSetName='';parametros=''
break;case '6':DataSetName='';parametros=''
break;default:throw 'Tipo de uFZoom desconhecido'};if(zoomInfo.constraints.length>0){filtros=[];$.each(zoomInfo.constraints,function(){switch(String(this.sourceVal)){case '1':filtros.push(DatasetFactory.createConstraint(this.field,this.value,this.value,ConstraintType.MUST));break;case '2':var valor=$('form input[name="'+this.formField+'"]').val();filtros.push(DatasetFactory.createConstraint(this.field,valor,valor,ConstraintType.MUST));break;case '3':var cons=((typeof this.value=='function')?this.value():this.value);filtros.push(cons);break;case '4':filtros.push(DatasetFactory.createConstraint(this.field,eval(this.value),eval(this.value),ConstraintType.MUST));break}})}}catch(e){exbErro('Ocorreu um erro ao montar os filtros da lista. Por favor, tente novamente.');console.error('Ocorreu um erro ao montar os filtros e parâmetros do DataSet:',e)};if(zoomInfo.uFZommType=='5'){try{if(!Array.isArray(zoomInfo.CodQuery))throw 'Array inválido!';if(zoomInfo.lstLocal!=undefined)lstZoom[zoomInfo.lstLocal]=zoomInfo.CodQuery;exbTabela(zoomInfo.CodQuery)}catch(e){console.error('A variável informada não é um array:',e);exbErro('Ocorreu um erro ao consultar o cadastro de '+zoomInfo.label+'. Por favor, tente novamente.');return}}else if(zoomInfo.uFZommType=='6'){try{$.ajax({type:'GET',url:'/api/public/2.0/groups/listUsersByGroup/'+zoomInfo.CodQuery,success:function(data,textStatus,jqXHR){console.info('Resposta do ajax: ',data,textStatus);if(!Array.isArray(data.content)){exbErro('Resposta da API inválida!');return}else{if(zoomInfo.lstLocal!=undefined)lstZoom[zoomInfo.lstLocal]=data.content;exbTabela(data.content)}},error:function(jqXHR,textStatus,errorThrown){console.error('RESPOSTA vcXMLRPC com erro',jqXHR,textStatus,errorThrown);var msg=((jqXHR.responseJSON!==undefined)?jqXHR.responseJSON.message:textStatus);exbErro('Ocorreu um erro ao consultar o cadastro de '+zoomInfo.label+'. Por favor, tente novamente.<br>Detalhes: '+msg)},})}catch(e){exbErro('Ocorreu um erro ao consultar o cadastro de '+zoomInfo.label+'. Por favor, tente novamente.<br>'+e);return}}else{if(zoomInfo.cliente=='tbc'){var pesq=$this.parents('tr').find('input[name^="ITMNOME"]').val();var fina=$('[name="FINALIDCOD"]').val();parametros=zoomInfo.colunas;var filtros=[];filtros.push(DatasetFactory.createConstraint('codSentenca','WS.0004','WS.0004',ConstraintType.MUST));filtros.push(DatasetFactory.createConstraint('codColigada','1','1',ConstraintType.MUST));filtros.push(DatasetFactory.createConstraint('codAplicacao','T','T',ConstraintType.MUST));filtros.push(DatasetFactory.createConstraint('CODIGO',pesq,pesq,ConstraintType.MUST));filtros.push(DatasetFactory.createConstraint('TIPO',fina,fina,ConstraintType.MUST));try{DatasetFactory.getDataset(DataSetName,parametros,filtros,null,{success:function(content){console.info('RESPOSTA vcXMLRPC com sucesso',content);exbTabela(content.values)},error:function(jqXHR,textStatus,errorThrown){console.error('RESPOSTA vcXMLRPC com erro',jqXHR,textStatus,errorThrown);var msg=((jqXHR.responseJSON!==undefined)?jqXHR.responseJSON.message:textStatus);exbErro('Ocorreu um erro ao consultar o cadastro de '+zoomInfo.label+'. Por favor, tente novamente.<br>Detalhes: '+msg)},})}catch(e){console.error('Ocorreu um erro ao consultar o DataSet:',e);exbErro('Ocorreu um erro ao consultar o cadastro de '+zoomInfo.label+'. Por favor, tente novamente.');return}}else{try{DatasetFactory.getDataset(DataSetName,parametros,filtros,null,{success:function(content){console.info('RESPOSTA vcXMLRPC com sucesso',content);if(content.values.length==1&&content.columns[0]=='ERRO'){console.error('O DataSet foi consultado, mas retornou um erro:',content.values[0]);exbErro('Ocorreu um erro ao consultar o cadastro de '+zoomInfo.label+'. Por favor, tente novamente.<br>Detalhes: '+content.values[0].ERRO)}else{if(zoomInfo.distinct){content.values=content.values.reduce(function(a,b,c){var achou=a.find(function(d){return d[zoomInfo.distinctInput].toLocaleLowerCase()==b[zoomInfo.distinctInput].toLocaleLowerCase()})
if(typeof achou=='undefined')a.push(b)
return a},[])}
if(zoomInfo.lstLocal!=undefined)lstZoom[zoomInfo.lstLocal]=content.values;exbTabela(content.values)}},error:function(jqXHR,textStatus,errorThrown){console.error('RESPOSTA vcXMLRPC com erro',jqXHR,textStatus,errorThrown);var msg=((jqXHR.responseJSON!==undefined)?jqXHR.responseJSON.message:textStatus);exbErro('Ocorreu um erro ao consultar o cadastro de '+zoomInfo.label+'. Por favor, tente novamente.<br>Detalhes: '+msg)},})}catch(e){console.error('Ocorreu um erro ao consultar o DataSet:',e);exbErro('Ocorreu um erro ao consultar o cadastro de '+zoomInfo.label+'. Por favor, tente novamente.');return}}}
function exbTabela(listaZoom){var tplContent='';tplContent+='<div class="row">';tplContent+='<div class="col-xs-6"><caption>Selecione um item da tabela</caption></div>';tplContent+='<div class="col-xs-6">';tplContent+='<div class="form-group">';tplContent+='<div class="input-group">';tplContent+='<input type="search" class="form-control" placeholder="Pesquisar ...">';tplContent+='<div class="input-group-addon"><span class="fluigicon fluigicon-search"></span></div>';tplContent+='</div>';tplContent+='</div>';tplContent+='</div>';tplContent+='</div>';tplContent+='<div class="row">';tplContent+='<div class="col-xs-12">';tplContent+='<table class="table">';tplContent+='<thead></thead>';tplContent+='<tbody></tbody>';tplContent+='</table>';tplContent+='</div>';tplContent+='</div>';var zoomModal=FLUIGC.modal({title:zoomInfo.title,size:((zoomInfo.size)?zoomInfo.size:'large'),content:tplContent,formModal:!0,id:'zoomModal',actions:[{label:'Cancelar',autoClose:!0,classType:'btn btn-default',},{label:'INSERIR >',bind:'data-inserirselecaozoom',classType:'btn btn-primary',}]},function(err,data){if(err){exbErro('Ocorreu um erro ao exibir o modal. Por favor, tente novamente.');console.error('Erro no FLUIGC.modal()',err);return}});var $cmp=$this.parents('.input-group').find('input');parent.$('#workflowview-header').hide();var dtZoom=$('#zoomModal').find('table').DataTable({dom:"<'row'<'col-xs-12't>><'row tabela-rodape'<'col-xs-12 col-md-5'i><'col-xs-12 col-md-7'p>>",language:{thousands:".",zeroRecords:"<i class='fa fa-exclamation-circle' aria-hidden='true'></i> Nenhum item localizado",emptyTable:"<i class='fa fa-exclamation-circle' aria-hidden='true'></i> Nenhum item localizado",info:"Exibindo _TOTAL_ itens",infoEmpty:"Nenhum item localizado",infoFiltered:"(filtro de um total de _MAX_ itens)",paginate:{first:"Primeira",previous:"Anterior",next:"Próxima",last:"Última"},},columns:zoomInfo.columns,data:listaZoom,paging:!1,});$('#zoomModal input[type="search"]').keyup(function(){dtZoom.search($(this).val()).draw()}).focus();$('#zoomModal').on('hide.bs.modal',function(){parent.$('#workflowview-header').show()});$('#zoomModal table tbody tr').on('click',function(){if($(this).find('td').hasClass('dataTables_empty'))return;if($(this).hasClass('selected')){$(this).removeClass('selected')}else{dtZoom.$('tr.selected').removeClass('selected');$(this).addClass('selected')}});$('#zoomModal table tbody tr').on('dblclick',function(){if($(this).find('td').hasClass('dataTables_empty'))return;callback($cmp,dtZoom.row(this).data(),listFields,sufix);zoomModal.remove();$('#zoomModal').remove()});$('#zoomModal [data-inserirselecaozoom]').on('click',function(){var $lin=$('#zoomModal table tbody tr.selected');if(!$lin.length)return;callback($cmp,dtZoom.rows('.selected').data()[0],listFields,sufix);zoomModal.remove();$('#zoomModal').remove()});$('#zoomModal .modal-body').css('max-height',(window.innerHeight-200)+'px');$('#zoomModal .modal-body').css('overflow-x','hidden');$(window).trigger('resize')
msgLoading.hide();$this.button('reset')};function exbErro(msg){parent.FLUIGC.toast({title:'Erro!',message:msg,type:'danger',timeout:4000});msgLoading.hide();$this.button('reset')}})}